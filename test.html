<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试 - 可视化提示词库</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            color: #e0e0e0;
        }
        .tag-item {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }
        .tag-item:hover {
            background-color: #4a3875;
            transform: scale(1.03);
        }
        .tag-item.selected {
            border: 2px solid #6a1b9a;
            background-color: #4a3875;
        }
        .category-card {
            background-color: #2c2c4d;
            border: 1px solid #4a3875;
        }
        .sub-category-card {
            background-color: #3b2a59;
            border-left: 3px solid #6a1b9a;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-center mb-10 text-white">
            测试 - 可视化提示词库
        </h1>

        <div id="content-container" class="space-y-10">
            <div id="test-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 测试内容 -->
            </div>
        </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 p-4 bg-zinc-900 border-t border-purple-800 shadow-2xl">
        <div id="selected-tags-display" class="bg-zinc-800 text-purple-200 p-3 rounded-xl overflow-x-auto">
            <span class="text-zinc-500">点击标签按钮以添加到此处...</span>
        </div>
    </div>

    <script>
        // 简化的测试数据
        const testData = {
            '画风': {
                '经典动漫风': 'classic_anime_style, 80s_anime_style, 90s_anime_style',
                '平涂风': 'flat_color, flat_shading, cel_shading',
                '半厚涂风': 'semi_realistic, painterly_style',
                '厚涂风': 'oil_painting_(medium), thick_paint, painterly',
                '古风': 'chinese_art_style, traditional_chinese_clothing, hanfu'
            },
            '色调': {
                '冷': 'cold_colors, cool_colors, blue_tones',
                '暖': 'warm_colors, warm_tone, golden_hour',
                '黑白': 'black_and_white, monochrome, grayscale',
                '高饱和度': 'high_saturation, vibrant_colors',
                '低饱和度': 'low_saturation, desaturated'
            }
        };

        let selectedTags = [];

        document.addEventListener('DOMContentLoaded', function() {
            console.log('页面加载完成');
            generateTestContent();
        });

        function generateTestContent() {
            const container = document.getElementById('test-content');
            container.innerHTML = '';

            Object.entries(testData).forEach(([categoryName, tags]) => {
                const categoryCard = createCategoryCard(categoryName, tags);
                container.appendChild(categoryCard);
            });
        }

        function createCategoryCard(categoryName, tags) {
            const card = document.createElement('div');
            card.className = 'category-card rounded-xl p-6 shadow-lg';
            
            const title = document.createElement('h2');
            title.className = 'text-2xl font-bold mb-6 text-purple-300';
            title.textContent = categoryName;
            card.appendChild(title);

            const tagsContainer = document.createElement('div');
            tagsContainer.className = 'flex flex-wrap gap-2';

            Object.entries(tags).forEach(([tagName, tagValue]) => {
                console.log('创建标签:', tagName, tagValue);
                const tagButton = createTagButton(tagName, tagValue);
                tagsContainer.appendChild(tagButton);
            });

            card.appendChild(tagsContainer);
            return card;
        }

        function createTagButton(tagName, tagValue) {
            const button = document.createElement('button');
            button.className = 'tag-item px-3 py-2 rounded-lg text-sm font-medium text-purple-100 hover:text-white transition-all duration-200';
            button.textContent = tagName;
            
            button.addEventListener('click', () => {
                toggleTag(tagName, tagValue, button);
            });

            return button;
        }

        function toggleTag(tagName, tagValue, button) {
            const tagIndex = selectedTags.findIndex(tag => tag.name === tagName);
            
            if (tagIndex === -1) {
                selectedTags.push({ name: tagName, value: tagValue });
                button.classList.add('selected');
            } else {
                selectedTags.splice(tagIndex, 1);
                button.classList.remove('selected');
            }
            
            updateSelectedTagsDisplay();
        }

        function updateSelectedTagsDisplay() {
            const display = document.getElementById('selected-tags-display');
            
            if (selectedTags.length === 0) {
                display.innerHTML = '<span class="text-zinc-500">点击标签按钮以添加到此处...</span>';
            } else {
                const tagsHtml = selectedTags.map(tag => 
                    `<span class="inline-block bg-purple-600 text-white px-3 py-1 rounded-full text-sm mr-2 mb-2">${tag.name}</span>`
                ).join('');
                display.innerHTML = tagsHtml;
            }
        }
    </script>
</body>
</html> 